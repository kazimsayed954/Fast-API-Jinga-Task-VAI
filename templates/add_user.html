<!-- add_user.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Add User</title>
    <link href="{{ url_for('static', path='/add_form.css') }}" rel="stylesheet">

    <script>
        function checkForm() {
            var username = document.getElementById('new_username').value;
            var password = document.getElementById('new_password').value;

            // Enable or disable the submit button based on whether fields are filled
            var submitButton = document.getElementById('submit_button');
            if (username.trim() !== '' && password.trim() !== '') {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        }
    </script>
</head>
<body>
    <h1>Welcome, {{ username }}</h1>
    {% if message %}
        <p>{{ message }}</p>
    {% endif %}

    <form method="post" action="/add_user" onkeyup="checkForm()">
        <label for="new_username">New Username:</label><br>
        <input type="text" id="new_username" name="username"><br>
        <label for="new_password">New Password:</label><br>
        <input type="password" id="new_password" name="password"><br><br>
        <input type="submit" id="submit_button" value="Add New User +" disabled>
    </form>

    <h2>Users List</h2>
    <table>
        <tr>
            <th>Username</th>
            <th>Password</th>
        </tr>
        {% for user in user_list %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.password }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
